# 模块化
## 模块化类型
### 立即执行函数
- 定义：使用自执行函数创建模块，模拟私有作用域。
- 特点：
	- 简单，适用于早期浏览器环境和脚本环境。
	- 避免全局变量污染。
	- 手动管理依赖。
	- 无法实现按需加载。
- 示例：
	```js
	(function() {
	  var privateVar = 'private';
	  window.myModule = {
	    publicMethod: function() {
	      console.log(privateVar);
	    }
	  };
	})();
	```
### CommonJS
- 定义：Node.js 默认模块化方案，同步加载模块。
- 特点：
	- 同步加载，适合服务器端。
	- 每个模块有独立的作用域。
	- module.exports 和 exports 的区别。
	- 不适合浏览器环境（同步加载影响性能）。
- 示例：
	```js
	// 导出 (module.js)
	module.exports = {
	  sayHello: function() {
	    console.log('Hello');
	  }
	};
	
	// 导入 (main.js)
	const module = require('./module');
	module.sayHello();
	```
### AMD
- 定义：AMD（Asynchronous Module Definition）专为浏览器设计的异步模块加载方案。
- 特点：
	- 异步加载，适合浏览器。
	- 依赖前置，加载优化。
	- 需要额外引入 RequireJS 库。
- 示例：
	```js
	// 定义模块
	define(['dependency'], function(dep) {
	  return {
	    sayHello: function() {
	      console.log('Hello from AMD');
	    }
	  };
	});
	
	// 使用模块
	require(['module'], function(module) {
	  module.sayHello();
	});
	```
### UMD
- 定义：UMD（Universal Module Definition）兼容 CommonJS 和 AMD 的模块定义方式。
- 特点：
	- 同时支持浏览器和 Node.js 环境。
	- 自动检测运行环境，选择合适的模块化方案。
	- 代码冗长，维护成本高。
- 示例：
	```js
	(function(root, factory) {
	  if (typeof define === 'function' && define.amd) {
	    define(['dependency'], factory); // AMD
	  } else if (typeof module === 'object' && module.exports) {
	    module.exports = factory(require('dependency')); // CommonJS
	  } else {
	    root.myModule = factory(root.dependency); // 全局变量
	  }
	}(this, function(dep) {
	  return {
	    sayHello: function() {
	      console.log('Hello from UMD');
	    }
	  };
	}));
	```
### ES6 模块
- 定义：JavaScript 官方模块化标准，引入 import/export 语法。
- 特点：
	- 静态分析：编译时确定依赖关系。
	- 树摇（Tree Shaking）：移除未使用的代码。
	- 支持动态导入（Dynamic Import）。
	- 浏览器和 Node.js 均支持（Node.js 需配置）。
	- 语法简洁，标准统一。
	- 支持异步加载（import()）。
	- 原生支持，无需额外库。
	- 浏览器兼容性需借助工具（如 Babel、Webpack）。
- 示例：
	```js
	// 导出 (module.js)
	export const name = 'Module';
	export function sayHello() {
	  console.log('Hello from ES Module');
	}
	export default {
	  defaultMethod: sayHello
	};
	
	// 导入 (main.js)
	import { name, sayHello } from './module.js';
	import defaultModule from './module.js';
	```
## ES6 模块深入解析
### 导出（Export）
- 命名导出：
	```js
	export const variable = 'value';
	export function func() {}
	```
- 默认导出：
	```js
	export default expression;
	```
- 导出列表：
	```js
	export { var1, var2 as alias };
	```
### 导入（Import）
- 命名导入：
	```js
	import { var1, var2 as alias } from './module.js';
	```
- 默认导入：
	```js
	import defaultName from './module.js';
	```
- 命名空间导入：
	```js
	import * as module from './module.js';
	```
- 动态导入：
	```js
	import('./module.js').then(module => {
	  module.default();
	});
