# 对象
## 对象基础
### 对象定义
- 对象是由若干属性组成的无序集合。
- 属性键通常是字符串或 Symbol，属性值可以是任何类型（原始值、对象、函数等）。 
- 对象是引用类型，存储在堆内存中，对象变量是指向该内存空间的指针。
- JavaScript 中对象是动态的，可以随时添加、修改和删除属性。
- 每个对象都有一个原型（prototype），通过原型链实现属性和方法的继承。
### 创建对象
- **对象字面量**
	- 定义：定义：使用 `{}` 直接定义对象，键值对以冒号 `:` 分隔。
	- 语法：`let obj = { key1: value1, key2: value2 }`
	- 示例：
		```js
		const person = {
		  name: "Alice",
		  age: 25,
		  greet() {
		    console.log("Hello!");
		  }
		};
		```
	- 特点：
		- 简洁，适合快速定义静态对象
		- 当属性键符合命名规范，可以使用简写形式，省略引号，JavaScript 会将其隐式转为字符串。
		- 当属性值为函数时，该属性称为方法，可以简写，JavaScript 会自动将函数名作为键名。
- **构造函数**
	- 定义：使用 `Object` 构造函数创建空对象，然后动态添加属性。
	- 语法：`let obj = new Object()`
	- 示例：
		```js
		const person = new Object();
		person.name = "Alice";
		person.age = 25;
		person.greet = function() {
		  console.log("Hello!");
		};
		```
	- 特点：
		- 动态创建，适合后续添加属性。
		- 性能略低于字面量，原型默认指向 `Object.prototype`。
- **自定义构造函数**
	- 定义：定义函数作为构造函数，用 `new` 创建对象。
	- 示例：
		```js
		function Person(name, age) {
		  this.name = name;
		  this.age = age;
		  this.greet = function() {
		    console.log("Hello!");
		  };
		}
		const person = new Person("Alice", 25);
		```
- **Object.create()**
	- 定义：通过指定原型对象创建新对象。
	- 语法：`let obj = Object.create(proto, [propertiesObject])`
	- 示例：
		```js
		const proto = {
		  greet() {
		    console.log("Hello!");
		  }
		};
		const person = Object.create(proto);
		person.name = "Alice";
		person.age = 25;
		```
	- 特点：
- **类**
	- 定义：使用 `class` 关键字定义对象模板，通过 `new` 实例化。
- **工厂函数**
	- 定义：通过函数返回新创建的对象。









### 属性操作







## 原型继承








## ES6 类







## 内置对象
### 包装对象
- Number
	- 定义：Number 用于处理数值。
	- 构造函数：`new Number(value)`。
	- 静态属性：
		- Number.EPSILON、MAX_SAFE_INTEGER、MIN_SAFE_INTEGER、MAX_VALUE、MIN_VALUE、NaN、NEGATIVE_INFINITY、POSITIVE_INFINITY。
	- 静态方法：
		- Number.isFinite(value)、isInteger(value)、isNaN(value)、isSafeInteger(value)、parseFloat(string)、parseInt(string[, radix])。
	- 原型方法：
		- toExponential(fractionDigits)、toFixed(digits)、toPrecision(precision)、toString([radix])、valueOf()。
	- 示例：
		```js
		const num = 123.456;
		console.log(num.toFixed(2)); // '123.46'
		console.log(Number.parseInt('10', 2)); // 2 (二进制)
		console.log(Number.isNaN(NaN)); // true
		```
	- 注意：JavaScript 使用 IEEE 754 双精度浮点数，精度有限。ES2020 引入 BigInt 用于大整数。
- String
	- 定义：String 用于处理文本，是不可变的。
	- 构造函数：`new String(value)` 或字符串字面量 `''`、`""`、````。
	- 静态方法：
		- `String.fromCharCode(...codes)`：从 Unicode 值创建字符串。
		- `String.fromCodePoint(...codePoints)`：从代码点创建字符串。
		- `String.raw(template, ...substitutions)`：原始字符串模板。
	- 原型方法：
		- 访问：charAt(index), charCodeAt(index), codePointAt(index), at(index) (ES2022，支持负索引)。
		- 操作：concat(...strings), slice(start, end), substring(start, end), substr(start, length) (弃用)，split(separator[, limit])。
		- 搜索：indexOf(search[, from]), lastIndexOf(), includes(search[, position]), startsWith(search[, position]), endsWith(search[, length]), search(regexp), match(regexp), matchAll(regexp)。
		- 修改：toLowerCase(), toUpperCase(), trim(), trimStart(), trimEnd(), repeat(count), padStart(length, padString), padEnd(), replace(search, replaceValue), replaceAll(search, replaceValue) (ES2021)。
		- 模板字符串：支持 ${expression} 插值。
	- 示例：
		```js
		const str = 'Hello, World!';
		console.log(str.toLowerCase()); // 'hello, world!'
		console.log(str.split(', ')); // ['Hello', 'World!']
		console.log(str.replace('World', 'JavaScript')); // 'Hello, JavaScript!'
		const name = 'Alice';
		console.log(`Hello, ${name}!`); // 'Hello, Alice!'
		```
	- 注意：字符串是原始类型，但方法通过临时包装对象调用。ES6+ 支持 Unicode 更好（如 codePointAt）。
- Boolean
	- 定义：Boolean 用于真/假值。
	- 构造函数：new Boolean(value)。
	- 原型方法：toString()、valueOf()。
	- 示例：
		```js
		const bool = new Boolean(true);
		console.log(bool.toString()); // 'true'
		```
	- 注意：优先使用原始 boolean 值，而非 Boolean 对象。 falsy 值：false, 0, '', null, undefined, NaN。
- Bigint
- Symbol



### 结构对象
- **Object**
	- 定义：Object 是所有对象的基类，提供通用对象操作。
	- 构造函数：`new Object([value])` 或对象字面量 `{}`。
	- 静态方法：
		- `Object.assign(target, ...sources)`：复制属性到目标对象。
		- `Object.create(proto, [properties])`：创建对象并指定原型。
		- `Object.defineProperty(obj, prop, descriptor)`：定义属性描述符。
		- `Object.entries(obj)`：返回 `[key, value]` 数组。
		- `Object.freeze(obj)`：冻结对象（不可修改）。
		- `Object.fromEntries(entries)`：从 `[key, value]` 数组创建对象。
		- `Object.getOwnPropertyNames(obj)`：返回所有自身属性键。
		- `Object.keys(obj)`：返回可枚举属性键。
		- `Object.values(obj)`：返回属性值数组。
	- 原型方法：
		- `obj.hasOwnProperty(prop)`：检查是否是自身属性。
		- `obj.toString()`：返回字符串表示（如 `"[object Object]"`）。
		- `obj.valueOf()`：返回原始值。
	- 示例：
		```js
		const obj = { a: 1, b: 2 };
		const copy = Object.assign({}, obj);
		console.log(copy); // { a: 1, b: 2 }
		Object.freeze(obj);
		obj.a = 3; // 无效果（严格模式下抛错）
		console.log(Object.keys(obj)); // ['a', 'b']
		```
	- 注意：Object 是原型链顶端，其原型为 null。避免直接修改 Object.prototype。
- **Function**
	- 定义：Function 用于创建函数，是所有函数的基类。
	- 构造方法：`new Function([arg1[, arg2[, ...argN]]], functionBody)`（不推荐，安全隐患）。
	- 静态方法：无常用静态方法。
	- 原型方法：
		- `fn.apply(thisArg, [argsArray])`：以指定 this 调用函数。
		- `fn.bind(thisArg[, arg1[, arg2[, ...]]])`：返回绑定 this 的新函数。
		- `fn.call(thisArg[, arg1[, arg2[, ...]]])`：以指定 this 调用函数。
		- `fn.toString()`：返回函数源代码字符串。
	- 示例：
		```js
		function add(x, y) { return x + y; }
		const boundAdd = add.bind(null, 5);
		console.log(boundAdd(3)); // 8
		console.log(add.call(null, 1, 2)); // 3
		```
	- 注意：箭头函数无自身 this、arguments，且不能用作构造函数。Function 构造函数可动态创建函数，但易受 XSS 攻击。
- **Array**
	- 定义：Array 用于存储有序集合。
	- 构造函数：`new Array([length])` 或数组字面量 `[]` 或从其他对象创建。
	- 静态方法：
		- `Array.from(iterable)`：从类数组或可迭代对象创建数组。
			- `Array.isArray(value)`：检查是否是数组。
		- `Array.of(...elements)`：从参数创建数组（解决 `new Array(length)` 的歧义）。
	- 属性与访问：
		- `length`：数组长度（自动调整）。
		- 索引访问：`arr[index]`（index 从 0 开始）。
		- 稀疏数组：非连续索引，如 `arr[0] = 1;` `arr[100] = 2`;。length 为 101，但大多数元素为 undefined。
	- 原型方法
		- 修改数组：
			- `push(...items)`：末尾添加，返回新 length。
			- `pop()`：末尾移除，返回移除元素。 
			- `shift(...items)`：开头添加，返回新 length。
			- `unshift()`：开头移除，返回移除元素。
			- `splice(index, deleteCount, ...items)`：删除/插入/替换。
			- `sort([compareFn])`：排序（默认字符串比较）。
			- `reverse()`：反转数组。
			- `fill(value[, start[, end]])`：填充数组。
		- 非修改：
			- `concat(...items)`：合并数组。
			- `join(separator)`：转换为字符串，指定连接符。
			- `slice(start, end)`：提取子数组。
			- `indexOf(searchElement[, fromIndex])`、`lastIndexOf()`：查找索引。
			- `includes(value[, fromIndex])`：检查是否存在（ES6）。
		- 高阶函数：
			- `forEach(callback)`：遍历，无返回。
			- `map(callback)`：返回新数组，每个元素应用回调。
			- `filter(callback)`：返回通过测试的元素新数组。
			- `reduce(callback[, initialValue])`、`reduceRight()`：累积值。
			- `some(callback)`：任一元素通过测试返回 true。
			- `every(callback)`：所有元素通过测试返回 true。
			- `find(callback)`, `findIndex(callback)`：返回第一个匹配元素/索引（ES6）。
			- `flat([depth])`：展平嵌套数组（ES2019）。
			- `flatMap(callback)`：map 后 flat。
	- 示例：
		```js
		const arr = [1, 2, 3];
		arr.push(4); // [1, 2, 3, 4]
		const doubled = arr.map(x => x * 2); // [2, 4, 6, 8]
		console.log(arr.filter(x => x > 2)); // [3, 4]
		console.log(arr.reduce((sum, x) => sum + x, 0)); // 10
		```
	- 注意：数组是对象，键为字符串索引。稀疏数组（如 `new Array(5)`) 有空槽。ES6+ 支持迭代符，可用 `for...of`。
- **Set**
	- 定义：Set 是唯一值的无序集合（ES6）。
	- 构造函数：`new Set([iterable])`。
	- 原型方法：
		- `add(value)`：添加，返回 Set。
		- `delete(value)`：删除，返回 boolean。
		- `has(value)`：检查存在。
		- `clear()`：清空。
		- `size`：大小（属性）。
	- 迭代：
		- `for...of`：遍历值。
		- `entries()`、`keys()`、`values()`：迭代器（键值相同）。
		- `forEach(callback[, thisArg])`。
	- 示例：
		```js
		set.add(3); // Set {1, 2, 3}
		console.log(set.has(2)); // true
		set.delete(1); // Set {2, 3}
		```
- **Map**
	- 定义：Map 是键值对集合，键可为任何类型（ES6）。
	- 构造函数：`new Map([iterable])`（iterable 为 `[key, value]` 数组）。
	- 原型方法：
		- `set(key, value)`：设置，返回 Map。
		- `get(key)`：获取值。
		- `delete(key)`：删除，返回 boolean。
		- `has(key)`：检查键。
		- `clear()`：清空。
		- `size`：大小。
	- 迭代：
		- `for...of`：遍历 `[key, value]`。
		- `entries()`、`keys()`、`values()`。
		- `forEach(callback[, thisArg])`：`callback(value, key, map)`。
	- 示例：
		```js
		map.set('c', 3); // Map {'a' => 1, 'b' => 2, 'c' => 3}
		console.log(map.get('b')); // 2
		```
- **WeakSet**
	- 
- **WeakMap**






### 工具对象
- Math
	- 定义：Math 提供数学常量和函数（非构造函数）。
	- 静态属性：
		- Math.E、LN10、LN2、LOG10E、LOG2E、PI、SQRT1_2、SQRT2。
	- 静态方法：
		- 三角：sin(x), cos(x), tan(x), asin(x), acos(x), atan(x), atan2(y, x)。
		- 指数/对数：exp(x), log(x), log10(x), log2(x), pow(x, y)。
		- 取整：ceil(x), floor(x), round(x), trunc(x)。
		- 其他：abs(x), max(...values), min(...values), random() (0-1 随机数), sign(x), sqrt(x), cbrt(x), hypot(...values)。
	- 示例：
		```js
		console.log(Math.PI); // 3.141592653589793
		console.log(Math.random()); // 随机数，如 0.123456
		console.log(Math.max(1, 3, 2)); // 3
		console.log(Math.floor(4.7)); // 4
		```
	- 注意：所有方法是静态的。random() 不适合加密。
- Date
	- 定义：Date 用于处理日期和时间。
	- 构造函数：new Date([value])（value 可为时间戳、字符串等）。
	- 静态方法：
		- Date.now()：当前时间戳。
		- Date.parse(dateString)：解析字符串为时间戳。
		- Date.UTC(year, month[, day[, hour[, minute[, second[, ms]]]]])：UTC 时间戳。
	- 原型方法：
		- 获取：getFullYear(), getMonth() (0-11), getDate(), getDay() (0-6), getHours(), getMinutes(), getSeconds(), getMilliseconds(), getTime() (时间戳)。
		- 设置：setFullYear(year), setMonth(month), 等。
		- UTC 版本：getUTCFullYear() 等。
		- 字符串：toString(), toDateString(), toTimeString(), toISOString(), toUTCString(), toJSON()。
	- 示例：
		```js
		const now = new Date();
		console.log(now.toISOString()); // 如 '2023-10-01T12:00:00.000Z'
		const birthday = new Date('1990-01-01');
		console.log(birthday.getFullYear()); // 1990
		```
	- 注意：月份从 0 开始。时区依赖系统。推荐使用库如 Moment.js 或 Luxon 处理复杂日期。
- RegExp
	- 定义：RegExp 用于正则表达式模式匹配。
	- 构造函数：
		- new RegExp(pattern, flags) 或字面量 /pattern/flags。
	- 标志：g (全局), i (忽略大小写), m (多行), s (dotAll), u (Unicode), y (sticky)。
	- 静态方法：无静态方法
	- 原型方法：
		- exec(string)：执行匹配，返回数组或 null。
		- test(string)：测试匹配，返回 boolean。
		- toString()：返回正则字符串。
	- 字符串方法使用RegExp：str.match(regexp), replace(regexp, replacer), search(regexp), split(regexp)。
	- 示例：
		```js
		const regex = /\d+/g;
		const str = 'Year 2023, month 10';
		console.log(str.match(regex)); // ['2023', '10']
		console.log(regex.test('abc123')); // true
		```
	- 注意：小心转义字符。ES2018 引入 lookbehind 等高级特性。
- JSON
	- 定义：JSON 用于序列化和解析 JSON 数据（非构造函数）。
	- 静态方法：
		- JSON.parse(text[, reviver])：解析 JSON 字符串为对象。
		- JSON.stringify(value[, replacer[, space]])：将对象转换为 JSON 字符串。
	- 示例：
		```js
		const obj = { name: 'Alice', age: 30 };
		const json = JSON.stringify(obj);
		console.log(json); // '{"name":"Alice","age":30}'
		const parsed = JSON.parse(json);
		console.log(parsed.name); // 'Alice'
		```
	- 注意：不支持循环引用、函数、Date（转换为 ISO 字符串）。replacer 可自定义序列化。
### 错误对象
- Error
	- 定义：Error 用于错误处理。
	- 构造函数：new Error(message)。
	- 自类型：
		- EvalError, RangeError, ReferenceError, SyntaxError, TypeError, URIError（内置），AggregateError (ES2021)。
	- 属性：
		- name, message, stack。
	- 示例：
		```js
		try {
		  throw new Error('Something went wrong');
		} catch (e) {
		  console.log(e.message); // 'Something went wrong'
		  console.log(e.stack); // 栈追踪
		}
		```
	- 注意：自定义错误：class CustomError extends Error {}。
### 其他对象
- **Symbol**：唯一标识符。Symbol(description)。用于对象键、私有属性。
    
- **BigInt**：大整数。123n。操作符如 + 但需同类型。
    
- **Promise**：异步操作。new Promise((resolve, reject) => {})。方法：then, catch, finally。
    
- **Proxy**：代理对象。new Proxy(target, handler)。拦截 get/set 等。
    
- **Reflect**：默认对象操作。Reflect.get(target, prop) 等。
    
- **WeakMap / WeakSet**：弱引用集合，键/值为对象，便于垃圾回收。
    
- **Intl**：国际化。Intl.NumberFormat, DateTimeFormat 等。
### 特定对象
- **全局对象**：浏览器中为 window，Node.js 中为 global。包含 console, setTimeout 等。
    
- **浏览器特定**：Window, Document, Navigator, Location, History。
    
- **Node.js 特定**：process, Buffer, global 等。